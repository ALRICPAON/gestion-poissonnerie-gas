<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>ğŸ“ˆ Statistiques</title>
  <link rel="stylesheet" href="../css/style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <!-- Barre du haut -->
  <div class="top-bar">
    <h1>ğŸ“ˆ Statistiques</h1>
    <button class="btn btn-muted" onclick="window.location.href='/pages/comptabilite.html'">
      â† Retour comptabilitÃ©
    </button>
  </div>

  <!-- Filtres de pÃ©riode -->
  <div class="header-box">
    <h2>Filtrer par pÃ©riode</h2>

    <div class="margin-settings">
      <label>
        Du :
        <input type="date" id="dateFrom">
      </label>

      <label>
        Au :
        <input type="date" id="dateTo">
      </label>

      <button class="btn btn-accent" id="btnLoad">ğŸ” Charger</button>
    </div>
  </div>

  <!-- RÃ©sumÃ© global -->
  <div class="stock-resume">
    <div class="resume-item">
      <h3>CA total</h3>
      <p id="resume-ca">0 â‚¬</p>
    </div>

    <div class="resume-item">
      <h3>Achats consommÃ©s</h3>
      <p id="resume-achats">0 â‚¬</p>
    </div>

    <div class="resume-item total">
      <h3>Marge totale</h3>
      <p id="resume-marge">0 â‚¬</p>
    </div>
  </div>

  <!-- Graphiques -->
  <h2>Top 10 Fournisseurs (marge)</h2>
  <div class="totaux">
    <canvas id="chartFournisseurs" height="110"></canvas>
  </div>

  <h2>DÃ©tails par fournisseur</h2>
  <table>
    <thead>
      <tr>
        <th>Fournisseur</th>
        <th>CA</th>
        <th>Achats</th>
        <th>Marge â‚¬</th>
        <th>Marge %</th>
      </tr>
    </thead>
    <tbody id="table-fournisseurs"></tbody>
  </table>

  <h2>Top 10 Articles (marge)</h2>
  <div class="totaux">
    <canvas id="chartArticles" height="110"></canvas>
  </div>

  <h2>DÃ©tails par article</h2>
  <table>
    <thead>
      <tr>
        <th>PLU</th>
        <th>DÃ©signation</th>
        <th>CA</th>
        <th>Achats</th>
        <th>Marge â‚¬</th>
        <th>Marge %</th>
      </tr>
    </thead>
    <tbody id="table-articles"></tbody>
  </table>

  <script type="module" src="../js/compta-stats.js"></script>

</body>
</html>
